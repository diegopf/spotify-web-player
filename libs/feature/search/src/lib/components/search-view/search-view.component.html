<div class="container">
  <div class="toolbar">
    <spotify-web-player-search-input
      (searchFor)="search($event)"
      [query]="query"
    ></spotify-web-player-search-input>
  </div>
  <div class="content">
    <ng-container *ngIf="artists && artists.items.length > 0">
      <h3>Artists</h3>
      <spotify-web-player-grid-list>
        <ng-container ngProjectAs="[content]">
          <spotify-web-player-card
            *ngFor="let artist of artists.items"
            [route]="'/artist'"
            [routeArg]="artist.id"
            [mainLabel]="artist.name"
          >
            <spotify-web-player-thumbnail
              [image]="artist.images[1]?.url"
              [ariaLabel]="artist.name"
            ></spotify-web-player-thumbnail>
          </spotify-web-player-card>
        </ng-container>
      </spotify-web-player-grid-list>
    </ng-container>
    <ng-container *ngIf="albums && albums.items.length > 0">
      <h3>Albums</h3>
      <spotify-web-player-grid-list>
        <ng-container ngProjectAs="[content]">
          <spotify-web-player-card
            *ngFor="let album of albums.items"
            [route]="'/album'"
            [routeArg]="album.id"
            [mainLabel]="album.name"
            [secondaryLabel]="reduceArtists(album)"
          >
            <spotify-web-player-thumbnail
              [image]="album.images[1]?.url"
              [ariaLabel]="album.name"
            ></spotify-web-player-thumbnail>
          </spotify-web-player-card>
        </ng-container>
      </spotify-web-player-grid-list>
    </ng-container>
    <ng-container *ngIf="tracks && tracks.items.length > 0">
      <h3>Tracks</h3>
      <spotify-web-player-grid-list>
        <ng-container ngProjectAs="[content]">
          <spotify-web-player-track
            *ngFor="let track of tracks.items"
            [track]="track.preview_url"
            [name]="track.name"
            [uri]="track.id"
          >
          </spotify-web-player-track>
        </ng-container>
      </spotify-web-player-grid-list>
    </ng-container>
    <ng-container *ngIf="emptyResults">
      <div class="empty">
        <h2>Nothing found!</h2>
      </div>
    </ng-container>
    <ng-container *ngIf="!emptyResults && !artists && !albums && !tracks">
      <div class="start">
        <h1>Search for your favorite music!</h1>
      </div>
    </ng-container>
  </div>
</div>
